# Папка для міграцій сервісу

> [!WARNING]  
> **Ми не використовуємо міграції в продакшн середовищі**, зміни в продакшн бд вносяться вручну, якщо вам необхідно внести 
> зміну (додати колонку або таблицю, змінити назву колонки і т.п), то уточнюйте порядок дій у керівництва чи девопсів.

Тут можна зберігати sql запити, що виконаються в момент ініциалізації проекту на чистій базі данних. В основному це
запити на створення таблиць і заповненню їх тестовими даними. **Ці міграції використовуються лише для розробки і є не 
обов'язковими**. Але це зручний інструмент, щоб можна було простіше розгортати проект.

Міграції можна змінювати заднім числом. Тобто, якщо у таблиці змінилась назва колонки, то можна просто її змінити в 
міграції, що створює цю таблицю. Нема потреби створювати нову таблицю з `ALTER` запитом. Це працює, тому що ми не 
використовуємо міграції для продакшену, а при розробці вони завжди запускаються поверх порожньої бази даних. 

Щоб відсортувати міграції зручно використовувати цифру на початку файлу, наприклад:
![Example](sorting-example.png)

Міграції запускаються під час виконання команди

```bash
make init
```

А саме запускається файл [bin/migrations.php](../bin/migrations.php).

> [!IMPORTANT]
> Після додання нового файлу міграції його також необхідно додати в массив $migrations в файлі bin/migrations.php, 
> інакше ця міграція не запуститься. Але ви вільні переробити файл bin/migrations.php, щоб він запускав усі .sql файли
> з цієї директорії.